"0","# FIGURE 3 EXTENSION 1 "
"0","# EXTENSION: TESTING FIGURE THREE WITH DEMOCRATS (ID= 1-4)"
"0","# This code will culminate in plot that looks at the treatment effect (political cue) on those with varying partisan affiliation. "
"0","# The hypothesis here states: Strong party affiliates that share party with the cue-giver are more likely to be party loyalists."
"0","# This model is the basis of the predictions and will help determine the causal effect of political cues on different levels of partisanship among DEMOCRATS. This model estimates support of policy based on race and the interaction between cues (conservative and liberal) and political ideology:"
"0","model1 <- lm(Support ~ race_white + libtrump*pid7 + contrump*pid7, data = data[(data$contrump == 1 | data$self == 1 | data$libtrump == 1) & data$pid7 %in% c(1, 2, 3, 4),])"
"0",""
"0","# This data table serves as the control - the baseline for comparison. There is no cue in this data table:"
"0","newdata = as.data.frame(cbind(rep(1, 4), rep(0, 4), rep(0, 4), seq(4, 7, 1)))"
"0","colnames(newdata) <- c(""race_white"", ""contrump"", ""libtrump"", ""pid7"")"
"0","# liberal cue as treatment on Republican partisans:"
"0","newdata1 = as.data.frame(cbind(rep(1, 4), rep(1, 4), rep(0, 4), rep(0, 4), rep(1, 4), seq(4, 7, 1)))"
"0","colnames(newdata1) <- c(""race_white"", ""republican"", ""democrat"", ""contrump"", ""libtrump"", ""pid7"")"
"0","# Like above, these are the predictions for the control and for the treatment:"
"0","plx0 <- predict(model1, newdata = newdata, type = ""response"", se = T)"
"0","plx1 <- predict(model1, newdata = newdata1, type = ""response"", se = T)"
"0","# Here we calculate the causal effect and the standard error:"
"0","diff.lib <- plx1$fit - plx0$fit"
"0","diff.lib.se <- sqrt(plx1$se.fit^2 + plx0$se.fit^2)"
"0","# These are the upper and lower confidence intervals:"
"0","upper.lib <- diff.lib + 1.96*diff.lib.se"
"0","lower.lib <- diff.lib - 1.96*diff.lib.se"
"0",""
"0","# plots next to each other"
"0","par(mfrow = c(1, 2)) "
"0","# Here is the plot:"
"0","#dev.new(width = 4.5, height = 7)"
"0","plot(seq(4, 7, 1), diff.lib, ylim = c(-.25, .25), pch = 16, ylab = ""Estimated Average Treatment Effect"", xlab = ""Levels of Partisan Affiliation"", axes = F, main = ""Liberal Trump Treatment"")"
